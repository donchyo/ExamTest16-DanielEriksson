<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="7a8a637e-6a28-4570-bf6a-6b20baa1203a" activeEnvironment="Default" name="TimeSheetApp" resourceRoot="" soapui-version="5.3.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="00c249d2-cc72-4d77-bf0e-73776fc76a9c" wadlVersion="http://wadl.dev.java.net/2009/02" name="GET-AllEmployee" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://shielded-harbor-21142.herokuapp.com</con:endpoint></con:endpoints><con:resource name="All" path="/employees/all" id="bd66f214-1cd8-4583-bd18-cdba995c7fa7"><con:settings/><con:parameters/><con:method name="All 1" id="d1b6fec9-968c-4c78-acfc-8b1896e63905" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:request name="Request 1" id="b7fd7519-0b11-44a4-b053-372606ab5a00" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://shielded-harbor-21142.herokuapp.com</con:endpoint><con:request/><con:originalUri>https://shielded-harbor-21142.herokuapp.com/employees/all</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="f85645b3-4c14-4007-b63f-9e2a61be0ea6" wadlVersion="http://wadl.dev.java.net/2009/02" name="POST-NewEmployee" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://shielded-harbor-21142.herokuapp.com</con:endpoint></con:endpoints><con:resource name="Create" path="/employees/create" id="23e2251b-98f2-4b2c-9714-626aad46d1ba"><con:settings/><con:parameters/><con:method name="Create 1" id="5cebf94d-1261-4b9c-ad69-43795924b171" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>405 404 400</con:status><con:params/><con:element xmlns:cre="https://shielded-harbor-21142.herokuapp.com/employees/create">cre:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="1e5051f1-5ea5-4ec1-a87b-90767480bad8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://shielded-harbor-21142.herokuapp.com</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="8a05321d-ce6d-425e-bbac-af54e3f97f17" wadlVersion="http://wadl.dev.java.net/2009/02" name="DELETE-Employee" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://shielded-harbor-21142.herokuapp.com</con:endpoint></con:endpoints><con:resource name="Delete" path="/employees/delete" id="a3b0bf77-ee89-4f16-bdfc-b8ccb542a66a"><con:settings/><con:parameters/><con:method name="Delete 1" id="cb040c9f-4fb6-48b3-a2db-985d410e4793" method="DELETE"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>500</con:status><con:params/><con:element xmlns:del="https://shielded-harbor-21142.herokuapp.com/employees/delete">del:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="9fae94b4-06cc-49e3-b571-d252df8186bb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://shielded-harbor-21142.herokuapp.com</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:testSuite id="6a65f0fb-4500-440c-8ba8-2aec9a0a87b7" name="TimeSheetApp-TestSuite"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="7a2192c9-1c95-4bca-95de-3e0b8bdacdbc" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TimeSheetApp-TestCase" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Get-AllEmployee" id="ecbf7ef4-052b-4178-95a0-f622001599de"><con:settings/><con:config service="GET-AllEmployee" resourcePath="/employees/all" methodName="All 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GET-AllEmployee" id="b7fd7519-0b11-44a4-b053-372606ab5a00" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://shielded-harbor-21142.herokuapp.com</con:endpoint><con:request/><con:originalUri>https://shielded-harbor-21142.herokuapp.com/employees/all</con:originalUri><con:assertion type="Simple Contains" id="46d9fe77-2e3c-4fe5-a3db-6fa134418a1f" name="Contains"><con:configuration><token>Developer</token><ignoreCase>true</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="f1b98c1d-c1a3-42c1-903b-c6a11eb28270" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Static-EmpData-POST-TestStep" id="418a718a-bc42-477b-8edb-c29ae6115d0b"><con:settings/><con:config><script>import org.apache.commons.lang.RandomStringUtils

String charset = (('A'..'Z')).join()
Integer length = 6
String randomString = RandomStringUtils.random(length, charset.toCharArray())
log.info(randomString)
def firstName    = randomString
def lastName    = randomString
def gender = "Male"
def role = "Tester"
def email =  firstName + "." + lastName + "@email.com"

//log.info("Employee firstName: " + firstName)
//log.info("Employee lastName : " + lastName)
//log.info("Employee gender : " + gender)
//log.info("Employee role : " + role)
//log.info("Employee email : " + email)

com.eviware.soapui.SoapUI.globalProperties.setPropertyValue("firstName", firstName.toString())
com.eviware.soapui.SoapUI.globalProperties.setPropertyValue("lastName", lastName.toString())
com.eviware.soapui.SoapUI.globalProperties.setPropertyValue("gender", gender.toString())
com.eviware.soapui.SoapUI.globalProperties.setPropertyValue("role", role.toString())
com.eviware.soapui.SoapUI.globalProperties.setPropertyValue("email", email.toString())</script></con:config></con:testStep><con:testStep type="groovy" name="Dynamic-EmpData-DELETE-TestStep" id="c4901fef-55d3-44f4-a106-1a52ee58c71a" disabled="true"><con:settings/><con:config><script>import groovy.json.JsonSlurper
import groovy.json.JsonOutput
def responseContent = testRunner.testCase.getTestStepByName("Get-AllEmployee").getPropertyValue("Response")
def employeeData = new JsonSlurper().parseText(responseContent)

for(int i = 0; i  &lt; employeeData.size(); i++) {	

	if ( employeeData.get(i).firstName == "DanielEriksson") {		
		def email = employeeData.get(i).email

		def employeeDelete = new JsonOutput().toJson(employeeData.get(i))
		log.info(employeeDelete)
	
		//com.eviware.soapui.SoapUI.globalProperties.setPropertyValue( "employeeDelete", employeeDelete.toString())
		
 	 }
}</script></con:config></con:testStep><con:testStep type="restrequest" name="POST-NewEmployee" id="c9106de9-b272-4fcc-aec8-2f20fce0fe52"><con:settings/><con:config service="POST-NewEmployee" resourcePath="/employees/create" methodName="Create 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="POST-NewEmployee" id="1e5051f1-5ea5-4ec1-a87b-90767480bad8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://shielded-harbor-21142.herokuapp.com</con:endpoint><con:request>{
	"email": "${email}",
	"firstName": "${firstName}",
 	"gender": " ${gender}",
	"lastName": "${lastName}",
	"role": "${role}"
}</con:request><con:originalUri>https://shielded-harbor-21142.herokuapp.com/employees/create</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="2f240088-f395-4c9c-9f4b-76b07da8c9a1" name="Valid HTTP Status Codes"><con:configuration><codes>204</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="DELETE-Employee" id="b8be51a0-f404-4bf8-9f4b-666cf880026c"><con:settings/><con:config service="DELETE-Employee" resourcePath="/employees/delete" methodName="Delete 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="DELETE-Employee" id="9fae94b4-06cc-49e3-b571-d252df8186bb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://shielded-harbor-21142.herokuapp.com</con:endpoint><con:request>{
	"email": "${email}",
	"firstName": "${firstName}",
 	"gender": "${gender}",
	"lastName": "${lastName}",
	"role": "${role}"
}</con:request><con:originalUri>https://shielded-harbor-21142.herokuapp.com/employees/delete</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="808093a2-10f5-4438-821c-22b4970f4e3e" name="Valid HTTP Status Codes"><con:configuration><codes>204</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>